



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.1.1">
    
    
      
        <title>Usage - SSP21-CPP</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.3020aac5.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-palette.224b79ff.css">
      
      
        
        
        <meta name="theme-color" content="#546e7a">
      
    
    
      <script src="../../assets/javascripts/modernizr.01ccdecf.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:300,400,400i,700|Ubuntu+Mono">
        <style>body,input{font-family:"Ubuntu","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Ubuntu Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="blue-grey" data-md-color-accent="green">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#usage" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../.." title="SSP21-CPP" class="md-header-nav__button md-logo">
          
            <img src="../../img/ssp21.png" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              SSP21-CPP
            </span>
            <span class="md-header-nav__topic">
              Usage
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../.." title="SSP21-CPP" class="md-nav__button md-logo">
      
        <img src="../../img/ssp21.png" width="48" height="48">
      
    </a>
    SSP21-CPP
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../build/" title="Building" class="md-nav__link">
      Building
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      API
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        API
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../api/intro/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../api/executor/" title="IExecutor" class="md-nav__link">
      IExecutor
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../api/logging/" title="Logging" class="md-nav__link">
      Logging
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../api/crypto/" title="ICryptoBackend" class="md-nav__link">
      ICryptoBackend
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../api/error_handling/" title="Error Handling" class="md-nav__link">
      Error Handling
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4" checked>
    
    <label class="md-nav__link" for="nav-4">
      ICFTool
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        ICFTool
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Usage
      </label>
    
    <a href="./" title="Usage" class="md-nav__link md-nav__link--active">
      Usage
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#examples" title="Examples" class="md-nav__link">
    Examples
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#generate-x25519-keypair" title="generate x25519 keypair" class="md-nav__link">
    generate x25519 keypair
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#generate-ed25519-keypair" title="generate ed25519 keypair" class="md-nav__link">
    generate ed25519 keypair
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#show-file-contents" title="show file contents" class="md-nav__link">
    show file contents
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#generate-certificates" title="generate certificates" class="md-nav__link">
    generate certificates
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Proxy
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Proxy
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../proxy/intro/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../proxy/configuration/" title="Configuration" class="md-nav__link">
      Configuration
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#examples" title="Examples" class="md-nav__link">
    Examples
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#generate-x25519-keypair" title="generate x25519 keypair" class="md-nav__link">
    generate x25519 keypair
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#generate-ed25519-keypair" title="generate ed25519 keypair" class="md-nav__link">
    generate ed25519 keypair
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#show-file-contents" title="show file contents" class="md-nav__link">
    show file contents
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#generate-certificates" title="generate certificates" class="md-nav__link">
    generate certificates
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="usage">Usage</h1>
<p>SSP21-CPP provides and executable that can generate keys and certificates in the format expected by the proxy called <code>icftool</code>. ICF stands for
"Industrial Container Format" and is an unstandardized binary file format. </p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The ICF file format was used for expediancy in the first release because it uses the SSP21 serialization format and rules.
Therefore, it didn't require manually writing any (un)parsers. The format for the container files might be changed to something more
conventional like the PEM format frequently used to encode X.509 and keys in the future since only the proxy relies on them.</p>
</div>
<p>The options presented with the <code>-h</code> (or ---help) argument are fairly self-explanatory.</p>
<div class="codehilite"><pre><span></span>&gt; ./icftool  -h

Options:

    -h, --help
        shows this help message
    -s, --show
        show contents of one or more &lt;icf files ....&gt;
    -r, --shared
        generate a shared secret &lt;key file&gt;
    -x, --x25519
        generate a x25519 key pair &lt;private key file&gt; &lt;public key file&gt;
    -e, --ed25519
        generate a Ed25519 key pair &lt;private key file&gt; &lt;public key file&gt;
    -c, --cert
        interactively generate a &lt;certificate file&gt; for a &lt;public key file&gt; signed by a &lt;private key file&gt;
    -a, --append
        append all entries from one &lt;icf file&gt; and another &lt;icf file&gt; and write them to a destination &lt;icf file&gt;
    -d, --days
        number of days for the certificate to remain valid from now
    -l, --level
        signing level [0, 5] of the certificate. 0 == endpoint. &gt;0  is an authority
</pre></div>


<h2 id="examples">Examples</h2>
<h3 id="generate-x25519-keypair">generate x25519 keypair</h3>
<div class="codehilite"><pre><span></span>./icftool.exe -x outstation25519.priv.icf outstation25519.pub.icf
generating x25519 key pair...
wrote: outstation25519.priv.icf
wrote: outstation25519.pub.icf
</pre></div>


<h3 id="generate-ed25519-keypair">generate ed25519 keypair</h3>
<div class="codehilite"><pre><span></span>.\icftool.exe -d authority.priv.icf authority.pub.icf
generating Ed25519 key pair
wrote: authority.priv.icf
wrote: authority.pub.icf
</pre></div>


<h3 id="show-file-contents">show file contents</h3>
<div class="codehilite"><pre><span></span>./icftool.exe -s authority.priv.icf authority.pub.icf

File: authority.priv.icf
Type: ed25519_private_key
  key-data (length == 64)
    49:b4:d0:64:ca:60:c3:e5:c7:c4:56:8d:d3:82:b9:a0
    6a:a4:9a:7e:18:cf:51:cb:43:85:45:3c:52:c4:5d:e3
    23:28:0d:c2:43:c6:11:c7:1e:36:75:51:90:5f:01:3f
    a4:5f:31:51:60:4c:20:3b:80:b5:d8:35:ae:c4:2c:8f

File: authority.pub.icf
Type: ed25519_public_key
  key-data (length == 32)
    23:28:0d:c2:43:c6:11:c7:1e:36:75:51:90:5f:01:3f
    a4:5f:31:51:60:4c:20:3b:80:b5:d8:35:ae:c4:2c:8f
</pre></div>


<h3 id="generate-certificates">generate certificates</h3>
<div class="codehilite"><pre><span></span>./icftool.exe -c outstation.cert.icf .\outstation25519.pub.icf authority.priv.icf
How many days (from now) should the certificate remain valid?
365
Enter the certificate signing level (0 == endpoint certificate, max == 6):
0

./icftool.exe -s .\outstation.cert.icf

File: .\outstation.cert.icf
Type: certificate_chain

certificate #1
  signature (length == 64)
    ab:b8:8b:85:72:d8:ff:31:6c:e7:55:ac:cd:44:5e:b3
    c7:2e:aa:b5:47:d7:65:5b:dd:4a:0a:fd:f1:c0:ba:99
    3d:40:a5:27:83:aa:93:cc:88:2d:7b:c0:b6:cf:6e:de
    d0:10:74:b3:1a:eb:f0:5d:60:6a:f8:15:51:bd:eb:0d
  certificate_body (length == 52)
    00:00:01:5d:48:26:95:79:00:00:01:5c:f0:75:69:79
    00:01:20:a6:93:66:e0:f5:b0:08:1a:0e:5b:20:80:8b
    fa:0f:48:83:67:6b:c5:92:7c:15:1a:1a:91:88:c4:28
    60:01:15:00
      valid_after: 1500154074489
      valid_before: 1498682845561
      signing_level: 0
      public_key_type: X25519
      public_key (length == 32)
        a6:93:66:e0:f5:b0:08:1a:0e:5b:20:80:8b:fa:0f:48
        83:67:6b:c5:92:7c:15:1a:1a:91:88:c4:28:60:01:15
      extensions (count = 0)
</pre></div>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../../api/error_handling/" title="Error Handling" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Error Handling
              </span>
            </div>
          </a>
        
        
          <a href="../../proxy/intro/" title="Introduction" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Introduction
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.dc02f8ce.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script>
      
    
  </body>
</html>